<div class="energy-certificate-container">
  <!-- Enhanced animated background -->
  <div class="background-canvas">
    <div class="geometric-pattern"></div>
    <div class="gradient-mesh"></div>
    <div class="floating-elements" #orbContainer>
      <div 
        class="orb"
        *ngFor="let orb of orbs; trackBy: trackByIndex"
        [ngStyle]="getOrbStyle(orb)">
      </div>
    </div>
    <!-- Ambient particles -->
    <div class="particles">
      <div class="particle" *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]"></div>
    </div>
  </div>

  <div class="main-container">
    <!-- Enhanced Hero Section with Better Design -->
    <div class="hero-section" [@slideInUp] *ngIf="isLoaded">
      <!-- Hero Background Elements -->
      <div class="hero-background">
        <div class="hero-gradient-orb hero-orb-1"></div>
        <div class="hero-gradient-orb hero-orb-2"></div>
        <div class="hero-gradient-orb hero-orb-3"></div>
      </div>

      <div class="hero-content-wrapper">
        <!-- Left Column - Main Content -->
        <div class="hero-main-content">
          <div class="hero-badge" [@bounceIn]>
            <span class="badge-icon">üåü</span>
            <span>Deutschlands #1 Energieausweis Service</span>
            <div class="badge-shine"></div>
          </div>
          
          <h1 class="hero-title">
            <span class="title-line">
              <span class="title-gradient">Premium</span>
            </span>
            <span class="title-line">
              <span class="title-main">Energieausweis</span>
            </span>
            <span class="title-line">
              <span class="title-accent">in 48h</span>
            </span>
          </h1>
          
          <p class="hero-subtitle">
            Rechtskonform, schnell und professionell ‚Äì Ihr Energieausweis 
            <span class="highlight-text">garantiert in weniger als 48 Stunden</span>
          </p>

          <div class="hero-cta-section">
            <button class="hero-primary-btn" (click)="scrollToPricing()">
              <span class="btn-content">
                <span class="btn-icon">üöÄ</span>
                <span class="btn-text">Jetzt Energieausweis erstellen</span>
              </span>
              <div class="btn-glow"></div>
            </button>
            
            <div class="hero-features-preview">
              <div class="feature-preview-item">
                <span class="preview-icon">‚ö°</span>
                <span>10 Jahre g√ºltig</span>
              </div>
              <div class="feature-preview-item">
                <span class="preview-icon">üõ°Ô∏è</span>
                <span>Rechtssicher</span>
              </div>
              <div class="feature-preview-item">
                <span class="preview-icon">üìû</span>
                <span>Support inklusive</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Column - Visual Elements & Stats -->
        <div class="hero-visual-content">
          <div class="hero-certificate-mockup">
            <div class="certificate-preview">
              <div class="certificate-header">
                <div class="cert-title">Energieausweis</div>
              </div>
              <div class="certificate-body">
                <div class="energy-rating">
                  <div class="rating-scale">
                    <div class="rating-bar rating-a">A+</div>
                    <div class="rating-bar rating-a">A</div>
                    <div class="rating-bar rating-b">B</div>
                    <div class="rating-bar rating-c active">C</div>
                    <div class="rating-bar rating-d">D</div>
                  </div>
                </div>
                <div class="cert-details">
                  <div class="detail-row">
                    <span>G√ºltig bis:</span>
                    <span>2034</span>
                  </div>
                  <div class="detail-row">
                    <span>Standard:</span>
                    <span>GEG 2024</span>
                  </div>
                </div>
              </div>
              <div class="certificate-stamp">
              </div>
            </div>
          </div>

          <div class="hero-stats-enhanced">
            <div class="stat-card" [@scaleIn]>
              <div class="stat-icon">üë•</div>
              <div class="stat-content">
                <div class="stat-number">50,000+</div>
                <div class="stat-label">Zufriedene Kunden</div>
              </div>
            </div>
            <div class="stat-card" [@scaleIn] [style.animation-delay.s]="0.2">
              <div class="stat-icon">‚≠ê</div>
              <div class="stat-content">
                <div class="stat-number">4.9/5</div>
                <div class="stat-label">Bewertung</div>
              </div>
            </div>
            <div class="stat-card" [@scaleIn] [style.animation-delay.s]="0.4">
              <div class="stat-icon">‚ö°</div>
              <div class="stat-content">
                <div class="stat-number">48h</div>
                <div class="stat-label">Lieferzeit</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Simplified energy card with just info section -->
  <div class="energy-card" [@slideInUp] *ngIf="isLoaded">
  <div class="info-section">
    <h3>
      <span 
        class="section-icon"
        style="font-size: 3.2rem; color: #4facfe; font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', sans-serif;">
        üí°
      </span>
      Das Wichtigste in K√ºrze
    </h3>
    <div class="info-grid">
      <div 
        class="info-item"
        *ngFor="let item of energyInfoItems; let i = index; trackBy: trackByTitle"
        [@slideInLeft]
        [style.animation-delay.s]="i * 0.2">
        
        <div class="info-item-header">
          <div 
            class="info-icon-container" 
            [style.background]="item.gradient"
            [style.width]="'70px'"
            [style.height]="'70px'"
            [style.min-width]="'70px'"
            [style.min-height]="'70px'"
            [style.flex-shrink]="'0'"
            [style.display]="'flex'"
            [style.align-items]="'center'"
            [style.justify-content]="'center'">
            <span 
              class="info-icon"
              [style.font-size]="'2rem'"
              [style.color]="'#ffffff'"
              [style.display]="'flex'"
              [style.align-items]="'center'"
              [style.justify-content]="'center'"
              [style.width]="'100%'"
              [style.height]="'100%'"
              [style.font-family]="'Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji, sans-serif'"
              [style.line-height]="'1'"
              [style.text-shadow]="'0 2px 8px rgba(0, 0, 0, 0.5)'"
              [style.z-index]="'10'"
              [style.position]="'relative'"
              [attr.data-fallback]="item.fallbackText">
              {{ item.icon }}
            </span>
          </div>
          <div class="info-title">{{ item.title }}</div>
        </div>
        
        <div class="info-description">{{ item.description }}</div>
        
        <div class="info-highlight" [style.background]="item.gradient"></div>
      </div>
    </div>
  </div>
</div>


    <!-- Enhanced Features Section -->
    <div class="features-section" [@slideInUp] *ngIf="isLoaded">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight">Warum</span> uns √ºber 50.000 Kunden vertrauen
        </h2>
        <p class="section-subtitle">Erstklassiger Service mit modernster Technologie</p>
      </div>
      
      <div class="features-grid" [@staggerAnimation]="features.length">
        <div 
          class="feature-card"
          *ngFor="let feature of features; let i = index; trackBy: trackByIndex"
          [@scaleIn]
          [style.animation-delay.s]="0.8 + (i * 0.2)">
          
          <div class="feature-icon-container" [style.background]="feature.bgGradient">
            <span class="feature-icon" [style.color]="feature.color">{{ feature.icon }}</span>
            <div class="icon-glow" [style.box-shadow]="'0 0 30px ' + feature.color + '40'"></div>
          </div>
          
          <div class="feature-content">
            <h4 class="feature-title">{{ feature.text }}</h4>
            <div class="feature-description">
              Professionell, zuverl√§ssig und nach h√∂chsten Standards
            </div>
          </div>
          
          <div class="feature-arrow">‚Üí</div>
        </div>
      </div>
    </div>

    <!-- Enhanced Pricing Section -->
    <div class="pricing-section" [@fadeInScale] *ngIf="isLoaded">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight">Preis√ºbersicht</span> 
        </h2>
        <p class="section-subtitle">W√§hlen Sie das perfekte Paket f√ºr Ihr Geb√§ude</p>
      </div>
      
      <div class="pricing-grid">
        <div 
          class="pricing-card"
          *ngFor="let plan of pricingPlans; let i = index; trackBy: trackByPlanType"
          [@slideInUp]
          [style.animation-delay.s]="1.2 + (i * 0.3)"
          [class.popular]="plan.isPopular">
          
          <div class="pricing-badge" *ngIf="plan.badge">
            <span class="badge-icon">‚≠ê</span>
            <span>{{ plan.badge }}</span>
          </div>
          
          <div class="pricing-header">
            <div class="plan-type">{{ plan.type }}</div>
            <div class="plan-subtitle">{{ plan.subtitle }}</div>
            
            <div class="plan-pricing">
              <div class="price-container">
                <span class="currency">‚Ç¨</span>
                <span class="price">{{ plan.price }}</span>
                <span class="price-period">einmalig</span>
              </div>
              <div class="original-price" *ngIf="plan.originalPrice">
                <span class="crossed-price">‚Ç¨{{ plan.originalPrice }}</span>
                <span class="savings">Sie sparen ‚Ç¨{{ +plan.originalPrice! - +plan.price }}</span>
              </div>
            </div>
          </div>

          <div class="pricing-features">
            <h4 class="features-title">
              <span class="features-icon">‚ú®</span>
              Alles inklusive:
            </h4>
            <ul class="features-list">
              <li 
                *ngFor="let feature of plan.features; let j = index; trackBy: trackByIndex"
                class="feature-item-list"
                [style.animation-delay.s]="j * 0.1">
                <span class="checkmark">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M13.5 4.5L6 12L2.5 8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <span class="feature-text">{{ feature }}</span>
              </li>
            </ul>
          </div>

          <div class="prerequisites" *ngIf="plan.prerequisites">
            <div class="prerequisites-header">
              <span class="warning-icon">‚ö†Ô∏è</span>
              <span class="prerequisites-title">Wichtige Voraussetzungen:</span>
            </div>
            <p class="prerequisites-text">{{ plan.prerequisites }}</p>
          </div>

           <button 
            class="pricing-button"
            (click)="navigateToQuestionnaire()"
            type="button"
            [attr.aria-label]="'Jetzt Fragebogen starten'">
            <span class="button-content">
              <span class="button-icon">üöÄ</span>
              <span class="button-text">Jetzt Fragebogen starten</span>
            </span>
            <div class="button-shine"></div>
          </button>
          
          <div class="guarantee">
            <span class="guarantee-icon">üõ°Ô∏è</span>
            <span class="guarantee-text">100% Geld-zur√ºck-Garantie</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>